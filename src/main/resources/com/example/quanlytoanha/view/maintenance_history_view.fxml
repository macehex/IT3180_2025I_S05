<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.control.cell.PropertyValueFactory?>
<?import javafx.scene.layout.*?>

<VBox spacing="15.0" style="-fx-padding: 20; -fx-background-color: #f8f9fa;"
      xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.example.quanlytoanha.controller.MaintenanceHistoryController">

    <children>
        <HBox alignment="CENTER_LEFT" spacing="10.0">
            <Label text="ðŸ”§ QUáº¢N LÃ Lá»ŠCH Sá»¬ Báº¢O TRÃŒ"
                   style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #1e3c72;"/>
            <Region HBox.hgrow="ALWAYS" />
            <Button fx:id="btnReload" text="Táº£i láº¡i" onAction="#initialize" styleClass="btn-info"/>
        </HBox>

        <TitledPane text="Láº­p lá»‹ch Báº£o trÃ¬ Má»›i (US2_2_1)" collapsible="false">
            <GridPane hgap="10" vgap="10" style="-fx-padding: 10;">
                <columnConstraints>
                    <ColumnConstraints hgrow="NEVER" minWidth="80.0"/>
                    <ColumnConstraints hgrow="ALWAYS" minWidth="200.0"/>
                    <ColumnConstraints hgrow="NEVER" minWidth="80.0"/>
                    <ColumnConstraints hgrow="ALWAYS" minWidth="200.0"/>
                </columnConstraints>

                <Label text="Chá»n TÃ i sáº£n:" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                <ComboBox fx:id="cmbAssetList" prefWidth="250.0" promptText="Chá»n tÃ i sáº£n Ä‘á»ƒ báº£o trÃ¬..." GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                <Label text="NgÃ y dá»± kiáº¿n:" GridPane.columnIndex="2" GridPane.rowIndex="0"/>
                <DatePicker fx:id="dpScheduledDate" prefWidth="250.0" GridPane.columnIndex="3" GridPane.rowIndex="0"/>

                <Label text="MÃ´ táº£ cÃ´ng viá»‡c:" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                <TextField fx:id="txtScheduleDescription" promptText="VD: Kiá»ƒm tra cÃ¡p thang mÃ¡y TÃ²a A" GridPane.columnIndex="1" GridPane.rowIndex="1" GridPane.columnSpan="3"/>

                <Button fx:id="btnSchedule" text="Láº­p lá»‹ch" onAction="#handleScheduleMaintenance" styleClass="btn-success" GridPane.columnIndex="3" GridPane.rowIndex="2"/>
            </GridPane>
        </TitledPane>

        <TableView fx:id="maintenanceTable" VBox.vgrow="ALWAYS" prefHeight="400.0">
            <columns>
                <TableColumn text="ID" prefWidth="40.0">
                    <cellValueFactory><PropertyValueFactory property="maintenanceId" /></cellValueFactory>
                </TableColumn>
                <TableColumn text="TÃ i sáº£n" prefWidth="150.0">
                    <cellValueFactory><PropertyValueFactory property="assetName" /></cellValueFactory>
                </TableColumn>
                <TableColumn text="Tráº¡ng thÃ¡i" prefWidth="100.0">
                    <cellValueFactory><PropertyValueFactory property="status" /></cellValueFactory>
                </TableColumn>
                <TableColumn text="NgÃ y LÃªn Lá»‹ch" prefWidth="120.0">
                    <cellValueFactory><PropertyValueFactory property="scheduledDate" /></cellValueFactory>
                </TableColumn>
                <TableColumn text="NgÃ y HoÃ n thÃ nh" prefWidth="120.0">
                    <cellValueFactory><PropertyValueFactory property="maintenanceDate" /></cellValueFactory>
                </TableColumn>
                <TableColumn text="MÃ´ táº£" prefWidth="250.0">
                    <cellValueFactory><PropertyValueFactory property="description" /></cellValueFactory>
                </TableColumn>
                <TableColumn text="Chi phÃ­" prefWidth="100.0">
                    <cellValueFactory><PropertyValueFactory property="cost" /></cellValueFactory>
                </TableColumn>
                <TableColumn text="NgÆ°á»i thá»±c hiá»‡n" prefWidth="150.0">
                    <cellValueFactory><PropertyValueFactory property="performedBy" /></cellValueFactory>
                </TableColumn>
            </columns>
            <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY" /></columnResizePolicy>
        </TableView>

        <HBox alignment="CENTER_RIGHT" spacing="10.0">
            <Label text="Chá»n má»™t lá»‹ch 'PENDING' Ä‘á»ƒ cáº­p nháº­t hoÃ n thÃ nh:"/>
            <Button fx:id="btnMarkAsCompleted" text="Ghi nháº­n HoÃ n thÃ nh" onAction="#handleOpenCompleteForm" styleClass="btn-primary" disable="true"/>
        </HBox>
    </children>
</VBox>

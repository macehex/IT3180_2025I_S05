<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.image.*?>

<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="com.example.quanlytoanha.controller.LoginController"
            prefHeight="700.0" prefWidth="1000.0">

   <center>
      <StackPane>
         <!-- Background Image Layer -->
         <Region>
            <style>
               -fx-background-image: url('images/image1.jpg');
               -fx-background-size: cover;
               -fx-background-position: center center;
            </style>
         </Region>

         <!-- Login Form Card - Cá»‘ Ä‘á»‹nh kÃ­ch thÆ°á»›c, luÃ´n á»Ÿ giá»¯a -->
         <VBox alignment="CENTER" spacing="12.0" 
               style="-fx-background-color: white; -fx-background-radius: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.25), 25, 0, 0, 8);"
               prefWidth="450.0" prefHeight="450.0" maxWidth="450.0" maxHeight="450.0">
            <children>
               <!-- Header -->
               <VBox alignment="CENTER" spacing="6.0" style="-fx-padding: 25 40 12 40;">
                  <children>
                     <Text text="Há»‡ thá»‘ng quáº£n lÃ½ chung cÆ°" 
                           style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-fill: #1e3c72;">
                        <VBox.margin>
                           <Insets bottom="10.0" />
                        </VBox.margin>
                     </Text>
                  </children>
               </VBox>
               
               <!-- Sign In Title -->
               <VBox alignment="CENTER" spacing="6.0" style="-fx-padding: 0 40 15 40;">
                  <children>
                     <Text text="Sign In" 
                           style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-fill: #1e3c72;"/>
                  </children>
               </VBox>

               <!-- Success Message Banner (khi logout) -->
               <HBox alignment="CENTER" style="-fx-padding: 0 40; -fx-background-color: transparent;"
                     visible="false">
                  <children>
                     <VBox alignment="CENTER" spacing="10.0"
                           style="-fx-background-color: #4CAF50; -fx-background-radius: 10; -fx-padding: 12 20;">
                        <children>
                           <Text text="ÄÃ£ Ä‘Äƒng xuáº¥t thÃ nh cÃ´ng!" 
                                 style="-fx-font-size: 14px; -fx-fill: white; -fx-font-weight: bold;"/>
                        </children>
                     </VBox>
                  </children>
               </HBox>

               <!-- Login Form -->
               <VBox spacing="15.0" style="-fx-padding: 0 40 25 40;" prefWidth="100.0">
                  <children>
                     <!-- Username/ID Field -->
                     <VBox spacing="6.0">
                        <children>
                           <TextField fx:id="txtUsername" promptText="001234567869" 
                                      prefHeight="50.0" prefWidth="370.0"
                                      style="-fx-background-color: white; -fx-border-color: #2196F3; -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 15; -fx-font-size: 14px;"/>
                        </children>
                     </VBox>

                     <!-- Password Field -->
                     <VBox spacing="6.0">
                        <children>
                           <HBox alignment="CENTER_LEFT" spacing="0">
                              <children>
                                 <StackPane prefHeight="50.0" prefWidth="320.0">
                                    <PasswordField fx:id="txtPassword" promptText="********" 
                                                   style="-fx-background-color: white; -fx-border-color: #2196F3; -fx-border-radius: 8 0 0 8; -fx-background-radius: 8 0 0 8; -fx-padding: 15; -fx-font-size: 14px;" 
                                                   HBox.hgrow="ALWAYS">
                                    </PasswordField>
                                    <TextField fx:id="txtPasswordVisible" visible="false" promptText="********"
                                                style="-fx-background-color: white; -fx-border-color: #2196F3; -fx-border-radius: 8 0 0 8; -fx-background-radius: 8 0 0 8; -fx-padding: 15; -fx-font-size: 14px;"
                                                HBox.hgrow="ALWAYS">
                                    </TextField>
                                 </StackPane>
                                 <!-- Eye icon button -->
                                 <Button fx:id="btnShowPassword" text="ðŸ‘ï¸" prefHeight="50.0" prefWidth="50.0" 
                                         style="-fx-background-color: white; -fx-border-color: #2196F3; -fx-border-width: 1 1 1 0; -fx-border-radius: 0 8 8 0; -fx-background-radius: 0 8 8 0; -fx-cursor: hand;">
                                 </Button>
                              </children>
                           </HBox>
                        </children>
                     </VBox>

                     <!-- Error Message -->
                     <Text fx:id="errorText" fill="#dc3545" style="-fx-font-size: 13px; -fx-font-weight: bold;"
                           wrappingWidth="370.0" textAlignment="CENTER">
                     </Text>

                     <!-- Login Button -->
                     <Button fx:id="loginButton" mnemonicParsing="false" onAction="#handleLoginButtonAction" 
                             text="Login" defaultButton="true"
                             prefHeight="50.0" prefWidth="370.0"
                             style="-fx-background-color: #1e3c72; -fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold; -fx-background-radius: 8; -fx-cursor: hand;"
                             VBox.vgrow="NEVER">
                        <VBox.margin>
                           <Insets top="12.0" />
                        </VBox.margin>
                     </Button>
                  </children>
               </VBox>
            </children>
         </VBox>
      </StackPane>
   </center>
</BorderPane>

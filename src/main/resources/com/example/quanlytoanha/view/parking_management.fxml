<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Pagination?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.quanlytoanha.controller.ParkingManagementController">
    <top>
        <VBox spacing="15.0" style="-fx-background-color: white; -fx-padding: 20;">
            <children>
                <HBox alignment="CENTER_LEFT" spacing="15.0">
                    <children>
                        <Label text="Quản Lý Gửi Xe" textFill="#2c3e50">
                            <font>
                                <Font name="System Bold" size="24.0" />
                            </font>
                        </Label>
                        <Region HBox.hgrow="ALWAYS" />
                        <Button fx:id="btnAddVehicle" mnemonicParsing="false" onAction="#handleAddVehicle" style="-fx-background-color: #4e73df; -fx-text-fill: white; -fx-font-weight: bold;" text="+ Đăng ký xe mới" />
                    </children>
                </HBox>

                <HBox alignment="CENTER_LEFT" spacing="10.0" style="-fx-background-color: #f8f9fc; -fx-padding: 10; -fx-background-radius: 5;">
                    <children>
                        <TextField fx:id="txtSearch" prefWidth="300.0" promptText="Tìm theo biển số, chủ xe, căn hộ..." style="-fx-background-radius: 5;" />
                        <ComboBox fx:id="cbFilterType" prefWidth="150.0" promptText="Loại xe" style="-fx-background-radius: 5;" />
                        <ComboBox fx:id="cbFilterStatus" prefWidth="150.0" promptText="Trạng thái" style="-fx-background-radius: 5;" />
                        <Button fx:id="btnSearch" mnemonicParsing="false" onAction="#handleSearch" style="-fx-background-color: #36b9cc; -fx-text-fill: white;" text="Tìm kiếm" />
                        <Button fx:id="btnReset" mnemonicParsing="false" onAction="#handleReset" style="-fx-background-color: #858796; -fx-text-fill: white;" text="Làm mới" />
                    </children>
                </HBox>
            </children>
            <padding>
                <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
            </padding>
        </VBox>
    </top>

    <center>
        <VBox style="-fx-padding: 10 20 20 20;">
            <TableView fx:id="tableVehicles" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="colId" prefWidth="50.0" text="ID" />
                    <TableColumn fx:id="colLicensePlate" prefWidth="120.0" text="Biển số" />
                    <TableColumn fx:id="colOwner" prefWidth="180.0" text="Chủ sở hữu" />
                    <TableColumn fx:id="colApartment" prefWidth="100.0" text="Căn hộ" />
                    <TableColumn fx:id="colType" prefWidth="100.0" text="Loại xe" />
                    <TableColumn fx:id="colStatus" prefWidth="120.0" text="Trạng thái" />
                    <TableColumn fx:id="colRegisterDate" prefWidth="120.0" text="Ngày đăng ký" />
                </columns>
                <columnResizePolicy>
                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                </columnResizePolicy>
            </TableView>
        </VBox>
    </center>

    <bottom>
        <VBox spacing="10.0" style="-fx-padding: 10 20;">
            <children>
                <!-- Control phân trang nằm trên các nút chức năng -->
                <Pagination fx:id="pagination" maxPageIndicatorCount="5" pageCount="1" />

                <HBox alignment="CENTER_RIGHT" spacing="10.0">
                    <children>
                        <Button fx:id="btnEdit" disable="true" mnemonicParsing="false" onAction="#handleEditVehicle" style="-fx-background-color: #f6c23e; -fx-text-fill: white;" text="Sửa thông tin" />
                        <Button fx:id="btnDelete" disable="true" mnemonicParsing="false" onAction="#handleDeleteVehicle" style="-fx-background-color: #e74a3b; -fx-text-fill: white;" text="Hủy đăng ký (Xóa)" />
                    </children>
                </HBox>
            </children>
        </VBox>
    </bottom>
</BorderPane>
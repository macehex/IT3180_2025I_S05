<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.control.cell.PropertyValueFactory?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.effect.DropShadow?>

<VBox spacing="20.0" style="-fx-padding: 25; -fx-background-color: #f4f6f8;"
      xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.example.quanlytoanha.controller.DebtReportController">

    <HBox alignment="CENTER_LEFT" spacing="10.0" style="-fx-border-color: transparent transparent #e0e0e0 transparent; -fx-padding: 0 0 15 0;">
        <Label text="ðŸ’° BÃO CÃO CÃ”NG Ná»¢ CHI TIáº¾T"
               style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #1e3c72;"/>
    </HBox>

    <HBox spacing="20.0" alignment="CENTER_LEFT" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20;">
        <effect>
            <DropShadow color="#00000015" radius="10" offsetY="3"/>
        </effect>
        <children>
            <VBox spacing="5">
                <Label text="Tá»« ngÃ y:" style="-fx-font-weight: bold; -fx-text-fill: #555;"/>
                <DatePicker fx:id="dpStartDate" prefWidth="180.0" promptText="dd/MM/yyyy"
                            style="-fx-font-size: 13px;"/>
            </VBox>

            <VBox spacing="5">
                <Label text="Äáº¿n ngÃ y:" style="-fx-font-weight: bold; -fx-text-fill: #555;"/>
                <DatePicker fx:id="dpEndDate" prefWidth="180.0" promptText="dd/MM/yyyy"
                            style="-fx-font-size: 13px;"/>
            </VBox>

            <Region HBox.hgrow="ALWAYS" /> <VBox alignment="BOTTOM_LEFT">
            <Button fx:id="btnGenerateReport" text="ðŸ“Š Táº¡o BÃ¡o cÃ¡o" onAction="#handleGenerateReport"
                    prefHeight="35.0"
                    style="-fx-background-color: #1e3c72; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 5; -fx-cursor: hand; -fx-padding: 0 20;"/>
        </VBox>

            <VBox alignment="BOTTOM_LEFT">
                <Button fx:id="btnExportPDF" text="ðŸ“¥ Xuáº¥t PDF" onAction="#handleExportPDF"
                        prefHeight="35.0"
                        style="-fx-background-color: #c62828; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 5; -fx-cursor: hand; -fx-padding: 0 20;"/>
            </VBox>
        </children>
    </HBox>

    <VBox VBox.vgrow="ALWAYS">
        <Label text="Danh sÃ¡ch káº¿t quáº£" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #666;">
            <padding><Insets bottom="10"/></padding>
        </Label>

        <TableView fx:id="debtTable" VBox.vgrow="ALWAYS" style="-fx-background-radius: 5; -fx-border-color: #ddd; -fx-border-radius: 5;">
            <columns>
                <TableColumn text="CÄƒn há»™" prefWidth="80.0" style="-fx-alignment: CENTER;">
                    <cellValueFactory><PropertyValueFactory property="apartmentId" /></cellValueFactory>
                </TableColumn>
                <TableColumn text="Chá»§ há»™" prefWidth="200.0">
                    <cellValueFactory><PropertyValueFactory property="ownerName" /></cellValueFactory>
                </TableColumn>
                <TableColumn text="Äiá»‡n thoáº¡i" prefWidth="120.0" style="-fx-alignment: CENTER;">
                    <cellValueFactory><PropertyValueFactory property="phoneNumber" /></cellValueFactory>
                </TableColumn>
                <TableColumn text="NgÃ y Ä‘áº¿n háº¡n" prefWidth="120.0" style="-fx-alignment: CENTER;">
                    <cellValueFactory><PropertyValueFactory property="earliestDueDate" /></cellValueFactory>
                </TableColumn>
                <TableColumn text="Tá»•ng tiá»n (VNÄ)" prefWidth="150.0" style="-fx-alignment: CENTER-RIGHT; -fx-font-weight: bold; -fx-text-fill: #c62828;">
                    <cellValueFactory><PropertyValueFactory property="totalDue" /></cellValueFactory>
                </TableColumn>
            </columns>
            <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY" /></columnResizePolicy>
        </TableView>
    </VBox>

</VBox>
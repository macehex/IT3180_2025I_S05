
--
-- PostgreSQL database dump
--

-- Dumped from database version 17.6
-- Dumped by pg_dump version 17.3

-- Started on 2025-10-25 08:23:09

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 222 (class 1259 OID 17231)
-- Name: announcements; Type: TABLE; Schema: public; Owner: avnadmin
--

CREATE TABLE public.announcements (
    ann_id integer NOT NULL,
    author_id integer NOT NULL,
    ann_title character varying(50),
    content text NOT NULL,
    is_urgent boolean DEFAULT false,
    created_at date
);


ALTER TABLE public.announcements OWNER TO avnadmin;

--
-- TOC entry 221 (class 1259 OID 17230)
-- Name: announcements_ann_id_seq; Type: SEQUENCE; Schema: public; Owner: avnadmin
--

CREATE SEQUENCE public.announcements_ann_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.announcements_ann_id_seq OWNER TO avnadmin;

--
-- TOC entry 4617 (class 0 OID 0)
-- Dependencies: 221
-- Name: announcements_ann_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: avnadmin
--

ALTER SEQUENCE public.announcements_ann_id_seq OWNED BY public.announcements.ann_id;


--
-- TOC entry 224 (class 1259 OID 17241)
-- Name: apartments; Type: TABLE; Schema: public; Owner: avnadmin
--

CREATE TABLE public.apartments (
    apartment_id integer NOT NULL,
    area numeric(6,2),
    owner_id integer NOT NULL
);


ALTER TABLE public.apartments OWNER TO avnadmin;

--
-- TOC entry 223 (class 1259 OID 17240)
-- Name: apartments_apartment_id_seq; Type: SEQUENCE; Schema: public; Owner: avnadmin
--

CREATE SEQUENCE public.apartments_apartment_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.apartments_apartment_id_seq OWNER TO avnadmin;

--
-- TOC entry 4618 (class 0 OID 0)
-- Dependencies: 223
-- Name: apartments_apartment_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: avnadmin
--

ALTER SEQUENCE public.apartments_apartment_id_seq OWNED BY public.apartments.apartment_id;


--
-- TOC entry 226 (class 1259 OID 17248)
-- Name: assets; Type: TABLE; Schema: public; Owner: avnadmin
--

CREATE TABLE public.assets (
    asset_id integer NOT NULL,
    asset_type character varying(50),
    description text,
    location character varying(20),
    status character varying(20) DEFAULT 'AVAILABLE'::character varying NOT NULL,
    purchase_date date,
    initial_cost numeric(12,2)
);


ALTER TABLE public.assets OWNER TO avnadmin;

--
-- TOC entry 225 (class 1259 OID 17247)
-- Name: assets_asset_id_seq; Type: SEQUENCE; Schema: public; Owner: avnadmin
--

CREATE SEQUENCE public.assets_asset_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.assets_asset_id_seq OWNER TO avnadmin;

--
-- TOC entry 4619 (class 0 OID 0)
-- Dependencies: 225
-- Name: assets_asset_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: avnadmin
--

ALTER SEQUENCE public.assets_asset_id_seq OWNED BY public.assets.asset_id;


--
-- TOC entry 228 (class 1259 OID 17258)
-- Name: feedback; Type: TABLE; Schema: public; Owner: avnadmin
--

CREATE TABLE public.feedback (
    feedback_id integer NOT NULL,
    user_id integer NOT NULL,
    content text,
    created_at date
);


ALTER TABLE public.feedback OWNER TO avnadmin;

--
-- TOC entry 227 (class 1259 OID 17257)
-- Name: feedback_feedback_id_seq; Type: SEQUENCE; Schema: public; Owner: avnadmin
--

CREATE SEQUENCE public.feedback_feedback_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.feedback_feedback_id_seq OWNER TO avnadmin;

--
-- TOC entry 4620 (class 0 OID 0)
-- Dependencies: 227
-- Name: feedback_feedback_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: avnadmin
--

ALTER SEQUENCE public.feedback_feedback_id_seq OWNED BY public.feedback.feedback_id;


--
-- TOC entry 232 (class 1259 OID 17275)
-- Name: invoicedetails; Type: TABLE; Schema: public; Owner: avnadmin
--

CREATE TABLE public.invoicedetails (
    invoice_detail_id integer NOT NULL,
    invoice_id integer NOT NULL,
    name character varying(20) NOT NULL,
    amount numeric(10,2) NOT NULL
);


ALTER TABLE public.invoicedetails OWNER TO avnadmin;

--
-- TOC entry 231 (class 1259 OID 17274)
-- Name: invoicedetails_invoice_detail_id_seq; Type: SEQUENCE; Schema: public; Owner: avnadmin
--

CREATE SEQUENCE public.invoicedetails_invoice_detail_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.invoicedetails_invoice_detail_id_seq OWNER TO avnadmin;

--
-- TOC entry 4621 (class 0 OID 0)
-- Dependencies: 231
-- Name: invoicedetails_invoice_detail_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: avnadmin
--

ALTER SEQUENCE public.invoicedetails_invoice_detail_id_seq OWNED BY public.invoicedetails.invoice_detail_id;


--
-- TOC entry 230 (class 1259 OID 17267)
-- Name: invoices; Type: TABLE; Schema: public; Owner: avnadmin
--

CREATE TABLE public.invoices (
    invoice_id integer NOT NULL,
    apartment_id integer NOT NULL,
    total_amount numeric(10,2) NOT NULL,
    due_date date NOT NULL,
    status character varying(20) DEFAULT 'UNPAID'::character varying
);


ALTER TABLE public.invoices OWNER TO avnadmin;

--
-- TOC entry 229 (class 1259 OID 17266)
-- Name: invoices_invoice_id_seq; Type: SEQUENCE; Schema: public; Owner: avnadmin
--

CREATE SEQUENCE public.invoices_invoice_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.invoices_invoice_id_seq OWNER TO avnadmin;

--
-- TOC entry 4622 (class 0 OID 0)
-- Dependencies: 229
-- Name: invoices_invoice_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: avnadmin
--

ALTER SEQUENCE public.invoices_invoice_id_seq OWNED BY public.invoices.invoice_id;


--
-- TOC entry 234 (class 1259 OID 17282)
-- Name: maintenance_history; Type: TABLE; Schema: public; Owner: avnadmin
--

CREATE TABLE public.maintenance_history (
    maintenance_id integer NOT NULL,
    asset_id integer NOT NULL,
    maintenance_date date NOT NULL,
    description text,
    cost numeric(10,2),
    performed_by character varying(100)
);


ALTER TABLE public.maintenance_history OWNER TO avnadmin;

--
-- TOC entry 233 (class 1259 OID 17281)
-- Name: maintenance_history_maintenance_id_seq; Type: SEQUENCE; Schema: public; Owner: avnadmin
--

CREATE SEQUENCE public.maintenance_history_maintenance_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.maintenance_history_maintenance_id_seq OWNER TO avnadmin;

--
-- TOC entry 4623 (class 0 OID 0)
-- Dependencies: 233
-- Name: maintenance_history_maintenance_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: avnadmin
--

ALTER SEQUENCE public.maintenance_history_maintenance_id_seq OWNED BY public.maintenance_history.maintenance_id;


--
-- TOC entry 236 (class 1259 OID 17291)
-- Name: permission; Type: TABLE; Schema: public; Owner: avnadmin
--

CREATE TABLE public.permission (
    permission_id integer NOT NULL,
    permission_name character varying(100) NOT NULL
);


ALTER TABLE public.permission OWNER TO avnadmin;

--
-- TOC entry 235 (class 1259 OID 17290)
-- Name: permission_permission_id_seq; Type: SEQUENCE; Schema: public; Owner: avnadmin
--

CREATE SEQUENCE public.permission_permission_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.permission_permission_id_seq OWNER TO avnadmin;

--
-- TOC entry 4624 (class 0 OID 0)
-- Dependencies: 235
-- Name: permission_permission_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: avnadmin
--

ALTER SEQUENCE public.permission_permission_id_seq OWNED BY public.permission.permission_id;


--
-- TOC entry 238 (class 1259 OID 17298)
-- Name: residents; Type: TABLE; Schema: public; Owner: avnadmin
--

CREATE TABLE public.residents (
    resident_id integer NOT NULL,
    apartment_id integer,
    user_id integer,
    full_name character varying(50),
    date_of_birth date,
    id_card_number character varying(12),
    relationship character varying(10),
    status character varying(20) DEFAULT 'RESIDING'::character varying,
    move_in_date date,
    move_out_date date
);


ALTER TABLE public.residents OWNER TO avnadmin;

--
-- TOC entry 237 (class 1259 OID 17297)
-- Name: residents_resident_id_seq; Type: SEQUENCE; Schema: public; Owner: avnadmin
--

CREATE SEQUENCE public.residents_resident_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.residents_resident_id_seq OWNER TO avnadmin;

--
-- TOC entry 4625 (class 0 OID 0)
-- Dependencies: 237
-- Name: residents_resident_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: avnadmin
--

ALTER SEQUENCE public.residents_resident_id_seq OWNED BY public.residents.resident_id;


--
-- TOC entry 239 (class 1259 OID 17305)
-- Name: role_permissions; Type: TABLE; Schema: public; Owner: avnadmin
--

CREATE TABLE public.role_permissions (
    role_id integer NOT NULL,
    permission_id integer NOT NULL
);


ALTER TABLE public.role_permissions OWNER TO avnadmin;

--
-- TOC entry 218 (class 1259 OID 17216)
-- Name: roles; Type: TABLE; Schema: public; Owner: avnadmin
--

CREATE TABLE public.roles (
    role_id integer NOT NULL,
    role_name character varying(50) NOT NULL
);


ALTER TABLE public.roles OWNER TO avnadmin;

--
-- TOC entry 217 (class 1259 OID 17215)
-- Name: roles_role_id_seq; Type: SEQUENCE; Schema: public; Owner: avnadmin
--

CREATE SEQUENCE public.roles_role_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.roles_role_id_seq OWNER TO avnadmin;

--
-- TOC entry 4626 (class 0 OID 0)
-- Dependencies: 217
-- Name: roles_role_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: avnadmin
--

ALTER SEQUENCE public.roles_role_id_seq OWNED BY public.roles.role_id;


--
-- TOC entry 241 (class 1259 OID 17309)
-- Name: service_requests; Type: TABLE; Schema: public; Owner: avnadmin
--

CREATE TABLE public.service_requests (
    request_id integer NOT NULL,
    req_user_id integer NOT NULL,
    req_type character varying(20) NOT NULL,
    req_title character varying(50),
    description text NOT NULL,
    status character varying(20) DEFAULT 'PENDING'::character varying,
    created_at date,
    completed_at date,
    asset_id integer
);


ALTER TABLE public.service_requests OWNER TO avnadmin;

--
-- TOC entry 240 (class 1259 OID 17308)
-- Name: service_requests_request_id_seq; Type: SEQUENCE; Schema: public; Owner: avnadmin
--

CREATE SEQUENCE public.service_requests_request_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.service_requests_request_id_seq OWNER TO avnadmin;

--
-- TOC entry 4627 (class 0 OID 0)
-- Dependencies: 240
-- Name: service_requests_request_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: avnadmin
--

ALTER SEQUENCE public.service_requests_request_id_seq OWNED BY public.service_requests.request_id;


--
-- TOC entry 243 (class 1259 OID 17319)
-- Name: transactions; Type: TABLE; Schema: public; Owner: avnadmin
--

CREATE TABLE public.transactions (
    transaction_id integer NOT NULL,
    invoice_id integer NOT NULL,
    payer_user_id integer NOT NULL,
    amount numeric(10,2) NOT NULL,
    transaction_date date
);


ALTER TABLE public.transactions OWNER TO avnadmin;

--
-- TOC entry 242 (class 1259 OID 17318)
-- Name: transactions_transaction_id_seq; Type: SEQUENCE; Schema: public; Owner: avnadmin
--

CREATE SEQUENCE public.transactions_transaction_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.transactions_transaction_id_seq OWNER TO avnadmin;

--
-- TOC entry 4628 (class 0 OID 0)
-- Dependencies: 242
-- Name: transactions_transaction_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: avnadmin
--

ALTER SEQUENCE public.transactions_transaction_id_seq OWNED BY public.transactions.transaction_id;


--
-- TOC entry 245 (class 1259 OID 17326)
-- Name: update_requests; Type: TABLE; Schema: public; Owner: avnadmin
--

CREATE TABLE public.update_requests (
    request_id integer NOT NULL,
    user_id integer NOT NULL,
    requested_data json NOT NULL,
    status character varying(20) DEFAULT 'PENDING'::character varying NOT NULL,
    requested_at timestamp with time zone DEFAULT now(),
    reviewed_by integer,
    reviewed_at timestamp with time zone,
    review_notes text
);


ALTER TABLE public.update_requests OWNER TO avnadmin;

--
-- TOC entry 244 (class 1259 OID 17325)
-- Name: update_requests_request_id_seq; Type: SEQUENCE; Schema: public; Owner: avnadmin
--

CREATE SEQUENCE public.update_requests_request_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.update_requests_request_id_seq OWNER TO avnadmin;

--
-- TOC entry 4629 (class 0 OID 0)
-- Dependencies: 244
-- Name: update_requests_request_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: avnadmin
--

ALTER SEQUENCE public.update_requests_request_id_seq OWNED BY public.update_requests.request_id;


--
-- TOC entry 220 (class 1259 OID 17223)
-- Name: users; Type: TABLE; Schema: public; Owner: avnadmin
--

CREATE TABLE public.users (
    user_id integer NOT NULL,
    username character varying(20) NOT NULL,
    password character varying(100) NOT NULL,
    email character varying(30) NOT NULL,
    phone_number character varying(15),
    full_name character varying(30),
    role_id integer,
    created_at timestamp with time zone DEFAULT now(),
    last_login timestamp with time zone
);


ALTER TABLE public.users OWNER TO avnadmin;

--
-- TOC entry 219 (class 1259 OID 17222)
-- Name: users_user_id_seq; Type: SEQUENCE; Schema: public; Owner: avnadmin
--

CREATE SEQUENCE public.users_user_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.users_user_id_seq OWNER TO avnadmin;

--
-- TOC entry 4630 (class 0 OID 0)
-- Dependencies: 219
-- Name: users_user_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: avnadmin
--

ALTER SEQUENCE public.users_user_id_seq OWNED BY public.users.user_id;


--
-- TOC entry 247 (class 1259 OID 17337)
-- Name: vehicles; Type: TABLE; Schema: public; Owner: avnadmin
--

CREATE TABLE public.vehicles (
    vehicle_id integer NOT NULL,
    resident_id integer NOT NULL,
    license_plate character varying(15) NOT NULL,
    vehicle_type character varying(20)
);


ALTER TABLE public.vehicles OWNER TO avnadmin;

--
-- TOC entry 246 (class 1259 OID 17336)
-- Name: vehicles_vehicle_id_seq; Type: SEQUENCE; Schema: public; Owner: avnadmin
--

CREATE SEQUENCE public.vehicles_vehicle_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.vehicles_vehicle_id_seq OWNER TO avnadmin;

--
-- TOC entry 4631 (class 0 OID 0)
-- Dependencies: 246
-- Name: vehicles_vehicle_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: avnadmin
--

ALTER SEQUENCE public.vehicles_vehicle_id_seq OWNED BY public.vehicles.vehicle_id;


--
-- TOC entry 4352 (class 2604 OID 17234)
-- Name: announcements ann_id; Type: DEFAULT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.announcements ALTER COLUMN ann_id SET DEFAULT nextval('public.announcements_ann_id_seq'::regclass);


--
-- TOC entry 4354 (class 2604 OID 17244)
-- Name: apartments apartment_id; Type: DEFAULT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.apartments ALTER COLUMN apartment_id SET DEFAULT nextval('public.apartments_apartment_id_seq'::regclass);


--
-- TOC entry 4355 (class 2604 OID 17251)
-- Name: assets asset_id; Type: DEFAULT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.assets ALTER COLUMN asset_id SET DEFAULT nextval('public.assets_asset_id_seq'::regclass);


--
-- TOC entry 4357 (class 2604 OID 17261)
-- Name: feedback feedback_id; Type: DEFAULT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.feedback ALTER COLUMN feedback_id SET DEFAULT nextval('public.feedback_feedback_id_seq'::regclass);


--
-- TOC entry 4360 (class 2604 OID 17278)
-- Name: invoicedetails invoice_detail_id; Type: DEFAULT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.invoicedetails ALTER COLUMN invoice_detail_id SET DEFAULT nextval('public.invoicedetails_invoice_detail_id_seq'::regclass);


--
-- TOC entry 4358 (class 2604 OID 17270)
-- Name: invoices invoice_id; Type: DEFAULT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.invoices ALTER COLUMN invoice_id SET DEFAULT nextval('public.invoices_invoice_id_seq'::regclass);


--
-- TOC entry 4361 (class 2604 OID 17285)
-- Name: maintenance_history maintenance_id; Type: DEFAULT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.maintenance_history ALTER COLUMN maintenance_id SET DEFAULT nextval('public.maintenance_history_maintenance_id_seq'::regclass);


--
-- TOC entry 4362 (class 2604 OID 17294)
-- Name: permission permission_id; Type: DEFAULT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.permission ALTER COLUMN permission_id SET DEFAULT nextval('public.permission_permission_id_seq'::regclass);


--
-- TOC entry 4363 (class 2604 OID 17301)
-- Name: residents resident_id; Type: DEFAULT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.residents ALTER COLUMN resident_id SET DEFAULT nextval('public.residents_resident_id_seq'::regclass);


--
-- TOC entry 4349 (class 2604 OID 17219)
-- Name: roles role_id; Type: DEFAULT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.roles ALTER COLUMN role_id SET DEFAULT nextval('public.roles_role_id_seq'::regclass);


--
-- TOC entry 4365 (class 2604 OID 17312)
-- Name: service_requests request_id; Type: DEFAULT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.service_requests ALTER COLUMN request_id SET DEFAULT nextval('public.service_requests_request_id_seq'::regclass);


--
-- TOC entry 4367 (class 2604 OID 17322)
-- Name: transactions transaction_id; Type: DEFAULT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.transactions ALTER COLUMN transaction_id SET DEFAULT nextval('public.transactions_transaction_id_seq'::regclass);


--
-- TOC entry 4368 (class 2604 OID 17329)
-- Name: update_requests request_id; Type: DEFAULT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.update_requests ALTER COLUMN request_id SET DEFAULT nextval('public.update_requests_request_id_seq'::regclass);


--
-- TOC entry 4350 (class 2604 OID 17226)
-- Name: users user_id; Type: DEFAULT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.users ALTER COLUMN user_id SET DEFAULT nextval('public.users_user_id_seq'::regclass);


--
-- TOC entry 4371 (class 2604 OID 17340)
-- Name: vehicles vehicle_id; Type: DEFAULT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.vehicles ALTER COLUMN vehicle_id SET DEFAULT nextval('public.vehicles_vehicle_id_seq'::regclass);


--
-- TOC entry 4586 (class 0 OID 17231)
-- Dependencies: 222
-- Data for Name: announcements; Type: TABLE DATA; Schema: public; Owner: avnadmin
--

COPY public.announcements (ann_id, author_id, ann_title, content, is_urgent, created_at) FROM stdin;
\.


--
-- TOC entry 4588 (class 0 OID 17241)
-- Dependencies: 224
-- Data for Name: apartments; Type: TABLE DATA; Schema: public; Owner: avnadmin
--

COPY public.apartments (apartment_id, area, owner_id) FROM stdin;
101	75.00	501
102	60.50	502
201	98.00	503
202	75.00	504
301	120.00	505
302	60.50	506
\.


--
-- TOC entry 4590 (class 0 OID 17248)
-- Dependencies: 226
-- Data for Name: assets; Type: TABLE DATA; Schema: public; Owner: avnadmin
--

COPY public.assets (asset_id, asset_type, description, location, status, purchase_date, initial_cost) FROM stdin;
\.


--
-- TOC entry 4592 (class 0 OID 17258)
-- Dependencies: 228
-- Data for Name: feedback; Type: TABLE DATA; Schema: public; Owner: avnadmin
--

COPY public.feedback (feedback_id, user_id, content, created_at) FROM stdin;
\.


--
-- TOC entry 4596 (class 0 OID 17275)
-- Dependencies: 232
-- Data for Name: invoicedetails; Type: TABLE DATA; Schema: public; Owner: avnadmin
--

COPY public.invoicedetails (invoice_detail_id, invoice_id, name, amount) FROM stdin;
\.


--
-- TOC entry 4594 (class 0 OID 17267)
-- Dependencies: 230
-- Data for Name: invoices; Type: TABLE DATA; Schema: public; Owner: avnadmin
--

COPY public.invoices (invoice_id, apartment_id, total_amount, due_date, status) FROM stdin;
\.


--
-- TOC entry 4598 (class 0 OID 17282)
-- Dependencies: 234
-- Data for Name: maintenance_history; Type: TABLE DATA; Schema: public; Owner: avnadmin
--

COPY public.maintenance_history (maintenance_id, asset_id, maintenance_date, description, cost, performed_by) FROM stdin;
\.


--
-- TOC entry 4600 (class 0 OID 17291)
-- Dependencies: 236
-- Data for Name: permission; Type: TABLE DATA; Schema: public; Owner: avnadmin
--

COPY public.permission (permission_id, permission_name) FROM stdin;
5	CREATE_RESIDENT
\.


--
-- TOC entry 4602 (class 0 OID 17298)
-- Dependencies: 238
-- Data for Name: residents; Type: TABLE DATA; Schema: public; Owner: avnadmin
--

COPY public.residents (resident_id, apartment_id, user_id, full_name, date_of_birth, id_card_number, relationship, status, move_in_date, move_out_date) FROM stdin;
1	101	5	\N	2008-10-16	001200000101	Con	RESIDING	\N	\N
\.


--
-- TOC entry 4603 (class 0 OID 17305)
-- Dependencies: 239
-- Data for Name: role_permissions; Type: TABLE DATA; Schema: public; Owner: avnadmin
--

COPY public.role_permissions (role_id, permission_id) FROM stdin;
1	5
\.


--
-- TOC entry 4582 (class 0 OID 17216)
-- Dependencies: 218
-- Data for Name: roles; Type: TABLE DATA; Schema: public; Owner: avnadmin
--

COPY public.roles (role_id, role_name) FROM stdin;
1	Ban quản trị
2	Kế toán
3	Công an
4	Cư dân
\.


--
-- TOC entry 4605 (class 0 OID 17309)
-- Dependencies: 241
-- Data for Name: service_requests; Type: TABLE DATA; Schema: public; Owner: avnadmin
--

COPY public.service_requests (request_id, req_user_id, req_type, req_title, description, status, created_at, completed_at, asset_id) FROM stdin;
\.


--
-- TOC entry 4607 (class 0 OID 17319)
-- Dependencies: 243
-- Data for Name: transactions; Type: TABLE DATA; Schema: public; Owner: avnadmin
--

COPY public.transactions (transaction_id, invoice_id, payer_user_id, amount, transaction_date) FROM stdin;
\.


--
-- TOC entry 4609 (class 0 OID 17326)
-- Dependencies: 245
-- Data for Name: update_requests; Type: TABLE DATA; Schema: public; Owner: avnadmin
--

COPY public.update_requests (request_id, user_id, requested_data, status, requested_at, reviewed_by, reviewed_at, review_notes) FROM stdin;
\.


--
-- TOC entry 4584 (class 0 OID 17223)
-- Dependencies: 220
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: avnadmin
--

COPY public.users (user_id, username, password, email, phone_number, full_name, role_id, created_at, last_login) FROM stdin;
1	admin	$2a$10$8b4W/fyg8QlBhivMGZGxGOB.H3bQbn.5spJOGR2mBfqjM9/FO/L5q	admin@example.com	\N	Quản Trị Viên	1	2025-10-24 02:15:19.191104+00	\N
501	owner101_user	$2a$10$hashed_password_501	owner101@example.com	0901111501	Nguyễn Văn An	4	2025-10-24 08:27:37.717467+00	\N
502	owner102_user	$2a$10$hashed_password_502	owner102@example.com	0901111502	Lê Thị Bình	4	2025-10-24 08:27:37.717467+00	\N
503	owner201_user	$2a$10$hashed_password_503	owner201@example.com	0901111503	Phạm Trọng Cảnh	4	2025-10-24 08:27:37.717467+00	\N
504	owner202_user	$2a$10$hashed_password_504	owner202@example.com	0901111504	Trần Hoài Dũng	4	2025-10-24 08:27:37.717467+00	\N
505	owner301_user	$2a$10$hashed_password_505	owner301@example.com	0901111505	Vũ Mai Hương	4	2025-10-24 08:27:37.717467+00	\N
506	owner302_user	$2a$10$hashed_password_506	owner302@example.com	0901111506	Đỗ Trung Kiên	4	2025-10-24 08:27:37.717467+00	\N
5	res1016764	$2a$10$pTWSgoxfLM7XWf5j2HbUbuLR5O1QqBdcMSqRb4Pd/vf2C4C4fbfm6	res1016764@temp.com	095678899	Nguyễn C	4	2025-10-24 09:14:21.090144+00	\N
\.


--
-- TOC entry 4611 (class 0 OID 17337)
-- Dependencies: 247
-- Data for Name: vehicles; Type: TABLE DATA; Schema: public; Owner: avnadmin
--

COPY public.vehicles (vehicle_id, resident_id, license_plate, vehicle_type) FROM stdin;
\.


--
-- TOC entry 4632 (class 0 OID 0)
-- Dependencies: 221
-- Name: announcements_ann_id_seq; Type: SEQUENCE SET; Schema: public; Owner: avnadmin
--

SELECT pg_catalog.setval('public.announcements_ann_id_seq', 1, false);


--
-- TOC entry 4633 (class 0 OID 0)
-- Dependencies: 223
-- Name: apartments_apartment_id_seq; Type: SEQUENCE SET; Schema: public; Owner: avnadmin
--

SELECT pg_catalog.setval('public.apartments_apartment_id_seq', 1, false);


--
-- TOC entry 4634 (class 0 OID 0)
-- Dependencies: 225
-- Name: assets_asset_id_seq; Type: SEQUENCE SET; Schema: public; Owner: avnadmin
--

SELECT pg_catalog.setval('public.assets_asset_id_seq', 1, false);


--
-- TOC entry 4635 (class 0 OID 0)
-- Dependencies: 227
-- Name: feedback_feedback_id_seq; Type: SEQUENCE SET; Schema: public; Owner: avnadmin
--

SELECT pg_catalog.setval('public.feedback_feedback_id_seq', 1, false);


--
-- TOC entry 4636 (class 0 OID 0)
-- Dependencies: 231
-- Name: invoicedetails_invoice_detail_id_seq; Type: SEQUENCE SET; Schema: public; Owner: avnadmin
--

SELECT pg_catalog.setval('public.invoicedetails_invoice_detail_id_seq', 1, false);


--
-- TOC entry 4637 (class 0 OID 0)
-- Dependencies: 229
-- Name: invoices_invoice_id_seq; Type: SEQUENCE SET; Schema: public; Owner: avnadmin
--

SELECT pg_catalog.setval('public.invoices_invoice_id_seq', 1, false);


--
-- TOC entry 4638 (class 0 OID 0)
-- Dependencies: 233
-- Name: maintenance_history_maintenance_id_seq; Type: SEQUENCE SET; Schema: public; Owner: avnadmin
--

SELECT pg_catalog.setval('public.maintenance_history_maintenance_id_seq', 1, false);


--
-- TOC entry 4639 (class 0 OID 0)
-- Dependencies: 235
-- Name: permission_permission_id_seq; Type: SEQUENCE SET; Schema: public; Owner: avnadmin
--

SELECT pg_catalog.setval('public.permission_permission_id_seq', 1, false);


--
-- TOC entry 4640 (class 0 OID 0)
-- Dependencies: 237
-- Name: residents_resident_id_seq; Type: SEQUENCE SET; Schema: public; Owner: avnadmin
--

SELECT pg_catalog.setval('public.residents_resident_id_seq', 1, true);


--
-- TOC entry 4641 (class 0 OID 0)
-- Dependencies: 217
-- Name: roles_role_id_seq; Type: SEQUENCE SET; Schema: public; Owner: avnadmin
--

SELECT pg_catalog.setval('public.roles_role_id_seq', 2, true);


--
-- TOC entry 4642 (class 0 OID 0)
-- Dependencies: 240
-- Name: service_requests_request_id_seq; Type: SEQUENCE SET; Schema: public; Owner: avnadmin
--

SELECT pg_catalog.setval('public.service_requests_request_id_seq', 1, false);


--
-- TOC entry 4643 (class 0 OID 0)
-- Dependencies: 242
-- Name: transactions_transaction_id_seq; Type: SEQUENCE SET; Schema: public; Owner: avnadmin
--

SELECT pg_catalog.setval('public.transactions_transaction_id_seq', 1, false);


--
-- TOC entry 4644 (class 0 OID 0)
-- Dependencies: 244
-- Name: update_requests_request_id_seq; Type: SEQUENCE SET; Schema: public; Owner: avnadmin
--

SELECT pg_catalog.setval('public.update_requests_request_id_seq', 1, false);


--
-- TOC entry 4645 (class 0 OID 0)
-- Dependencies: 219
-- Name: users_user_id_seq; Type: SEQUENCE SET; Schema: public; Owner: avnadmin
--

SELECT pg_catalog.setval('public.users_user_id_seq', 5, true);


--
-- TOC entry 4646 (class 0 OID 0)
-- Dependencies: 246
-- Name: vehicles_vehicle_id_seq; Type: SEQUENCE SET; Schema: public; Owner: avnadmin
--

SELECT pg_catalog.setval('public.vehicles_vehicle_id_seq', 1, false);


--
-- TOC entry 4385 (class 2606 OID 17239)
-- Name: announcements announcements_pkey; Type: CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.announcements
    ADD CONSTRAINT announcements_pkey PRIMARY KEY (ann_id);


--
-- TOC entry 4387 (class 2606 OID 17246)
-- Name: apartments apartments_pkey; Type: CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.apartments
    ADD CONSTRAINT apartments_pkey PRIMARY KEY (apartment_id);


--
-- TOC entry 4389 (class 2606 OID 17256)
-- Name: assets assets_pkey; Type: CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.assets
    ADD CONSTRAINT assets_pkey PRIMARY KEY (asset_id);


--
-- TOC entry 4391 (class 2606 OID 17265)
-- Name: feedback feedback_pkey; Type: CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.feedback
    ADD CONSTRAINT feedback_pkey PRIMARY KEY (feedback_id);


--
-- TOC entry 4395 (class 2606 OID 17280)
-- Name: invoicedetails invoicedetails_pkey; Type: CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.invoicedetails
    ADD CONSTRAINT invoicedetails_pkey PRIMARY KEY (invoice_detail_id);


--
-- TOC entry 4393 (class 2606 OID 17273)
-- Name: invoices invoices_pkey; Type: CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.invoices
    ADD CONSTRAINT invoices_pkey PRIMARY KEY (invoice_id);


--
-- TOC entry 4397 (class 2606 OID 17289)
-- Name: maintenance_history maintenance_history_pkey; Type: CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.maintenance_history
    ADD CONSTRAINT maintenance_history_pkey PRIMARY KEY (maintenance_id);


--
-- TOC entry 4399 (class 2606 OID 17344)
-- Name: permission permission_permission_name_key; Type: CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.permission
    ADD CONSTRAINT permission_permission_name_key UNIQUE (permission_name);


--
-- TOC entry 4401 (class 2606 OID 17296)
-- Name: permission permission_pkey; Type: CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.permission
    ADD CONSTRAINT permission_pkey PRIMARY KEY (permission_id);


--
-- TOC entry 4403 (class 2606 OID 17304)
-- Name: residents residents_pkey; Type: CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.residents
    ADD CONSTRAINT residents_pkey PRIMARY KEY (resident_id);


--
-- TOC entry 4405 (class 2606 OID 17346)
-- Name: residents residents_user_id_key; Type: CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.residents
    ADD CONSTRAINT residents_user_id_key UNIQUE (user_id);


--
-- TOC entry 4407 (class 2606 OID 17358)
-- Name: role_permissions role_permissions_pkey; Type: CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.role_permissions
    ADD CONSTRAINT role_permissions_pkey PRIMARY KEY (role_id, permission_id);


--
-- TOC entry 4373 (class 2606 OID 17221)
-- Name: roles roles_pkey; Type: CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.roles
    ADD CONSTRAINT roles_pkey PRIMARY KEY (role_id);


--
-- TOC entry 4375 (class 2606 OID 17348)
-- Name: roles roles_role_name_key; Type: CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.roles
    ADD CONSTRAINT roles_role_name_key UNIQUE (role_name);


--
-- TOC entry 4409 (class 2606 OID 17317)
-- Name: service_requests service_requests_pkey; Type: CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.service_requests
    ADD CONSTRAINT service_requests_pkey PRIMARY KEY (request_id);


--
-- TOC entry 4411 (class 2606 OID 17324)
-- Name: transactions transactions_pkey; Type: CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.transactions
    ADD CONSTRAINT transactions_pkey PRIMARY KEY (transaction_id);


--
-- TOC entry 4413 (class 2606 OID 17335)
-- Name: update_requests update_requests_pkey; Type: CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.update_requests
    ADD CONSTRAINT update_requests_pkey PRIMARY KEY (request_id);


--
-- TOC entry 4377 (class 2606 OID 17350)
-- Name: users users_email_key; Type: CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_email_key UNIQUE (email);


--
-- TOC entry 4379 (class 2606 OID 17352)
-- Name: users users_phone_number_key; Type: CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_phone_number_key UNIQUE (phone_number);


--
-- TOC entry 4381 (class 2606 OID 17229)
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (user_id);


--
-- TOC entry 4383 (class 2606 OID 17354)
-- Name: users users_username_key; Type: CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_username_key UNIQUE (username);


--
-- TOC entry 4415 (class 2606 OID 17356)
-- Name: vehicles vehicles_license_plate_key; Type: CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.vehicles
    ADD CONSTRAINT vehicles_license_plate_key UNIQUE (license_plate);


--
-- TOC entry 4417 (class 2606 OID 17342)
-- Name: vehicles vehicles_pkey; Type: CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.vehicles
    ADD CONSTRAINT vehicles_pkey PRIMARY KEY (vehicle_id);


--
-- TOC entry 4419 (class 2606 OID 17359)
-- Name: announcements announcements_author_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.announcements
    ADD CONSTRAINT announcements_author_id_fkey FOREIGN KEY (author_id) REFERENCES public.users(user_id);


--
-- TOC entry 4420 (class 2606 OID 17364)
-- Name: apartments apartments_owner_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.apartments
    ADD CONSTRAINT apartments_owner_id_fkey FOREIGN KEY (owner_id) REFERENCES public.users(user_id);


--
-- TOC entry 4421 (class 2606 OID 17369)
-- Name: feedback feedback_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.feedback
    ADD CONSTRAINT feedback_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(user_id);


--
-- TOC entry 4423 (class 2606 OID 17374)
-- Name: invoicedetails invoicedetails_invoice_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.invoicedetails
    ADD CONSTRAINT invoicedetails_invoice_id_fkey FOREIGN KEY (invoice_id) REFERENCES public.invoices(invoice_id);


--
-- TOC entry 4422 (class 2606 OID 17379)
-- Name: invoices invoices_apartment_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.invoices
    ADD CONSTRAINT invoices_apartment_id_fkey FOREIGN KEY (apartment_id) REFERENCES public.apartments(apartment_id);


--
-- TOC entry 4424 (class 2606 OID 17384)
-- Name: maintenance_history maintenance_history_asset_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.maintenance_history
    ADD CONSTRAINT maintenance_history_asset_id_fkey FOREIGN KEY (asset_id) REFERENCES public.assets(asset_id);


--
-- TOC entry 4425 (class 2606 OID 17389)
-- Name: residents residents_apartment_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.residents
    ADD CONSTRAINT residents_apartment_id_fkey FOREIGN KEY (apartment_id) REFERENCES public.apartments(apartment_id);


--
-- TOC entry 4426 (class 2606 OID 17394)
-- Name: residents residents_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.residents
    ADD CONSTRAINT residents_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(user_id);


--
-- TOC entry 4427 (class 2606 OID 17399)
-- Name: role_permissions role_permissions_permission_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.role_permissions
    ADD CONSTRAINT role_permissions_permission_id_fkey FOREIGN KEY (permission_id) REFERENCES public.permission(permission_id);


--
-- TOC entry 4428 (class 2606 OID 17404)
-- Name: role_permissions role_permissions_role_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.role_permissions
    ADD CONSTRAINT role_permissions_role_id_fkey FOREIGN KEY (role_id) REFERENCES public.roles(role_id);


--
-- TOC entry 4429 (class 2606 OID 17409)
-- Name: service_requests service_requests_asset_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.service_requests
    ADD CONSTRAINT service_requests_asset_id_fkey FOREIGN KEY (asset_id) REFERENCES public.assets(asset_id);


--
-- TOC entry 4430 (class 2606 OID 17414)
-- Name: service_requests service_requests_req_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.service_requests
    ADD CONSTRAINT service_requests_req_user_id_fkey FOREIGN KEY (req_user_id) REFERENCES public.users(user_id);


--
-- TOC entry 4431 (class 2606 OID 17419)
-- Name: transactions transactions_invoice_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.transactions
    ADD CONSTRAINT transactions_invoice_id_fkey FOREIGN KEY (invoice_id) REFERENCES public.invoices(invoice_id);


--
-- TOC entry 4432 (class 2606 OID 17424)
-- Name: transactions transactions_payer_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.transactions
    ADD CONSTRAINT transactions_payer_user_id_fkey FOREIGN KEY (payer_user_id) REFERENCES public.users(user_id);


--
-- TOC entry 4433 (class 2606 OID 17429)
-- Name: update_requests update_requests_reviewed_by_fkey; Type: FK CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.update_requests
    ADD CONSTRAINT update_requests_reviewed_by_fkey FOREIGN KEY (reviewed_by) REFERENCES public.users(user_id);


--
-- TOC entry 4434 (class 2606 OID 17434)
-- Name: update_requests update_requests_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.update_requests
    ADD CONSTRAINT update_requests_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(user_id);


--
-- TOC entry 4418 (class 2606 OID 17439)
-- Name: users users_role_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_role_id_fkey FOREIGN KEY (role_id) REFERENCES public.roles(role_id);


--
-- TOC entry 4435 (class 2606 OID 17444)
-- Name: vehicles vehicles_resident_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: avnadmin
--

ALTER TABLE ONLY public.vehicles
    ADD CONSTRAINT vehicles_resident_id_fkey FOREIGN KEY (resident_id) REFERENCES public.residents(resident_id);


-- Completed on 2025-10-25 08:23:19

--
-- PostgreSQL database dump complete
--

